@using SFA.DAS.AssessorService.Web.Staff.Controllers
@model RegisterViewAndEditOrganisationViewModel
@{
    ViewBag.Title = "View Organisation";
    Layout = "_Layout";
}
<div class="grid-row">
    <div class="column-two-thirds">
        <a asp-action="Index" asp-controller="Register" class="link-back">Return to organisation search</a>
        
               <h1>
                <label class="form-label" for="">
                    <span class="heading-xlarge">View organisation</span>
                </label>
            </h1>

        <div id="organisationWrapper">
              
            <label for="Name">
                <span class="form-label-bold">Name</span>
                @Model.Name
            </label>
            <label for="OrganisationId">
                <span class="form-label-bold">Organisation Id</span>
                @Model.OrganisationId
            </label>
            <label for="Ukprn">
                <span class="form-label-bold">UKPRN</span>
                @Model.Ukprn
            </label>
            <label for="OrganisationType">
                <span class="form-label-bold">Organisation Type</span>
                @Model.OrganisationType
            </label>
            <label for="LegalName">
                <span class="form-label-bold">Legal Name</span>
                @Model.LegalName
            </label>
            <label for="WebsiteLink">
                <span class="form-label-bold">Web Site</span>
                @Model.WebsiteLink
            </label>
            <label for="Address">
                <span class="form-label-bold">Address</span>
                @Model.Address1 
                @Model.Address2 
                @Model.Address3 
                @Model.Address4 
                @Model.Postcode
            </label>
        <label for="PrimaryContact">
            <span class="form-label-bold">Primary Contact</span>
            @Model.PrimaryContactName
        </label>
                <div class="form-group">
                    <a class="button" type="submit" href="/register/edit-organisation/@Model.OrganisationId">Edit</a>
                </div>

            <br/><br/>
                 <label for="Contacts">
                     <span class="form-label-bold">Contacts</span>
                     @if (@Model.Contacts.Count > 0)
                     {
                         <div class="grid-row">
                             <div class="column-full">
                                 <div class="form-group">
                                     <table class="table responsive table-font-xsmall">
                                         <thead>
                                             <tr>
                                                 <th>Name</th>
                                                 <th>Email</th>
                                                 <th>username</th>

                                             </tr>
                                         </thead>
                                         <tbody>
                                             @foreach (var result in Model.Contacts.OrderBy(x => x.DisplayName))
                                             {
                                                 <tr>
                                                     <td data-label="Name"><a href="/register/view-contact/@result.Id">@result.DisplayName</a></td>
                                                     <td data-label="ID">@result.Email</td>
                                                     <td data-label="Username">@result.Username</td>
                                                     
                                                 </tr>
                                             }
                                         </tbody>
                                     </table>
                                 </div>
                             </div>
                         </div>
                     }
                     else
                     {
                         <span>There are no contacts</span>
                     }
                <div class="form-group">
                    <a class="button" href="/register/add-contact/@Model.OrganisationId">Add New Contact</a>
                </div>

                 </label>
        
            
            <br/><br/>
            <label for="Standards">
                <span class="form-label-bold">Standards</span>
                @if (@Model.OrganisationStandards.Count > 0)
                {
                    <div class="grid-row">
                        <div class="column-full">
                            <div class="form-group">
                                <table class="table responsive table-font-xsmall">
                                    <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Code</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    @foreach (var result in Model.OrganisationStandards.OrderBy(x => x.StandardSummary.Title))
                                    {
                                        <tr>
                                            <td data-label="Name">@result.StandardSummary.Title</td>
                                            <td data-label="ID">@result.StandardCode</td>
                                            <td class="numeric"><a href="">Edit</a></td>
                                        </tr>
                                    }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                }
                else
                {
                    <span>There are no standards</span>
                }
                <div class="form-group">
                    <button class="button" type="submit" href="">Add New Standard</button>
                </div>
            </label>
        </div>

    </div>
</div>