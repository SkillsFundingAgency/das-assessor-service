@model SFA.DAS.AssessorService.Web.Staff.Controllers.SearchViewModel

@{

}

<a asp-action="Index" class="link-back">Search Again</a>

<div>
    <span class="bold">Number of results: </span> @Model.PaginatedList.TotalRecordCount
</div>


<table class="table">
    <thead>
        <tr>
            <th>First Name</th>
            <th>Surname</th>
            <th>Uln</th>
            <th>Standard</th>
            <th>Certificate Reference</th>
            <th>Current Status</th>
            <th>Last Updated</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var result in Model.PaginatedList.Items)
        {
        <tr>
            <td>@result.GivenNames</td>
            <td>@result.FamilyName</td>
            <td>@result.Uln</td>
            <td>@result.Standard (@result.StandardCode)</td>
            <td>@result.CertificateReference</td>
            <td>@result.CertificateStatus</td>
            <td>@result.LastUpdatedAt?.ToShortDateString()</td>
            <td><a class="button" asp-action="Select" asp-route-stdcode="@result.StandardCode" asp-route-uln="@result.Uln" asp-route-searchstring="@Model.SearchString" asp-route-page="@Model.PaginatedList.PageIndex">Select</a></td>
        </tr>
        }
    </tbody>
</table>

@if (Model.PaginatedList.HasPreviousPage)
{
    <a class="button" asp-action="Results" asp-controller="Search" asp-route-searchstring="@Model.SearchString" asp-route-page="@( Model.PaginatedList.PageIndex - 1)">Previous</a>
}

@if (Model.PaginatedList.HasNextPage)
{
    <a class="button" asp-action="Results" asp-controller="Search" asp-route-searchstring="@Model.SearchString" asp-route-page="@( Model.PaginatedList.PageIndex + 1)">Next</a>
}