GOVUK.epaoValidate=function(n,t){function u(n){var t=n.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(t!==null){var f=+t[1],r=+t[2],u=+t[3],i=new Date(u,r-1,f);if(i.getFullYear()===u&&i.getMonth()===r-1)return i}return!1}var i=$(document).attr("title"),r=n.bind("invalid-form.validate",function(){$(document).attr("title","Error: "+i);$(".js-error-summary").length?($(".js-error-summary-list").empty(),r.errorList.forEach(function(n){$(".js-error-summary-list").append('<li><a href="#'+n.element.id+'">'+n.message+"<\/a><\/li>")}),$(".js-error-summary").show().focus(),$(".js-error-summary a").click(function(n){n.preventDefault();var t=$(this).attr("href");$(t).is(":visible")?$(t).focus():$("input.form-control:first").focus()})):$("input.form-control:first").focus()}).validate({ignore:t.ignore,focusInvalid:!1,onkeyup:!1,onclick:!1,onfocusout:!1,errorElement:"span",errorClass:"error-message",highlight:function(n){if($(n).hasClass("date-input"))return $(n).addClass("form-control-error"),!1;$(n).addClass("form-control-error").closest(".form-group").addClass("form-group-error");$(n).closest("fieldset").prev().hasClass("js-error-summary")&&$(n).closest("fieldset").addClass("after-error-summary")},unhighlight:function(n){if($(n).hasClass("date-input"))return $(n).removeClass("form-control-error"),!1;$(n).removeClass("form-control-error").closest(".form-group").removeClass("form-group-error");$(n).closest("fieldset").prev().hasClass("js-error-summary")&&$(n).closest("fieldset").removeClass("after-error-summary")},rules:t.rules,messages:t.messages,errorPlacement:function(n,t){t.attr("type")=="radio"?$(".error-message-container").addClass("form-group-error").show().append(n):t.hasClass("date-input")?$(".error-message-container").addClass("form-group-error").show().find(".form-date").before(n):n.insertBefore(t)},submitHandler:function(n){n.submit()}});jQuery.validator.addMethod("noFutureDate",function(n,t){var r=new Date,i=u(n);return i?this.optional(t)||i<r:!0},"Please enter a date in the past");jQuery.validator.addMethod("postcodeUK",function(n,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(n)},"Please specify a valid UK postcode")};$(document).ready(function(){$(".js-integers-only").on("keydown",function(n){$.inArray(n.keyCode,[46,8,9,27,13])!==-1||n.keyCode==65&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode==67&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode==86&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode==88&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode>=35&&n.keyCode<=39||(n.shiftKey||n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105)&&n.preventDefault()})});