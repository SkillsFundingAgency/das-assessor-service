GOVUK.epaoValidate=function(n,t){var i=$(document).attr("title"),r=n.bind("invalid-form.validate",function(){$(document).attr("title","Error: "+i);$(".js-error-summary").length?($(".js-error-summary-list").empty(),r.errorList.forEach(function(n){$(".js-error-summary-list").append('<li><a href="#'+n.element.id+'">'+n.message+"<\/a><\/li>")}),$(".js-error-summary").show().focus(),$(".js-error-summary a").click(function(n){n.preventDefault();var t=$(this).attr("href");$(t).is(":visible")?$(t).focus():$("input.form-control:first").focus()})):$("input.form-control:first").focus()}).validate({ignore:t.ignore,focusInvalid:!1,onkeyup:!1,onclick:!1,onfocusout:!1,errorElement:"span",errorClass:"error-message",highlight:function(n){if($(n).hasClass("date-input"))return $(n).addClass("form-control-error"),!1;$(n).addClass("form-control-error").closest(".form-group").addClass("form-group-error");$(n).closest("fieldset").prev().hasClass("js-error-summary")&&$(n).closest("fieldset").addClass("after-error-summary")},unhighlight:function(n){if($(n).hasClass("date-input"))return $(n).removeClass("form-control-error"),!1;$(n).removeClass("form-control-error").closest(".form-group").removeClass("form-group-error");$(n).closest("fieldset").prev().hasClass("js-error-summary")&&$(n).closest("fieldset").removeClass("after-error-summary")},rules:t.rules,messages:t.messages,errorPlacement:function(n,t){t.attr("type")=="radio"?$(".error-message-container").addClass("form-group-error").show().append(n):t.hasClass("date-input")?$(".error-message-container").addClass("form-group-error").show().find(".form-date").before(n):n.insertBefore(t)},submitHandler:function(n){n.submit()}});jQuery.validator.addMethod("noFutureDate",function(n,t){var r=new Date,i=new Date(n);return Object.prototype.toString.call(i)!=="[object Date]"||isNaN(i.getTime())?!0:this.optional(t)||i<r},"Please enter a date in the past");jQuery.validator.addMethod("postcodeUK",function(n,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(n)},"Please specify a valid UK postcode");$(window).load(function(){$(".error-summary").length?($(".error-summary").focus(),$(".error-summary a").click(function(n){n.preventDefault();var t=$(this).attr("href");$(t).is(":visible")?$(t).focus():$("input.form-control:first").focus()})):$("input.form-control:first").focus()})};