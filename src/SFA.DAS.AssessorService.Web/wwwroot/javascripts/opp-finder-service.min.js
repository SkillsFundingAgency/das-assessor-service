(function(n){function e(){i("ChangePageApprovedStandards",null,{pageIndex:1},"#approved-standards",r);i("ChangePageInDevelopmentStandards",null,{pageIndex:1},"#in-development-standards",u);i("ChangePageProposedStandards",null,{pageIndex:1},"#proposed-standards",f)}function c(){r();u();f()}function r(){o(".approved-page","ChangePageApprovedStandards","#approved","#approved-standards",r);s(".approved-per-page","ShowApprovedStandardsPerPage","#approved","#approved-standards",r);h(".approved-sort","SortApprovedStandards","#approved","#approved-standards",r)}function u(){o(".in-development-page","ChangePageInDevelopmentStandards","#in-development","#in-development-standards",u);s(".in-development-per-page","ShowInDevelopmentStandardsPerPage","#in-development","#in-development-standards",u);h(".in-development-sort","SortInDevelopmentStandards","#in-development","#in-development-standards",u)}function f(){o(".proposed-page","ChangePageProposedStandards","#proposed","#proposed-standards",f);s(".proposed-per-page","ShowProposedStandardsPerPage","#proposed","#proposed-standards",f);h(".proposed-sort","SortProposedStandards","#proposed","#proposed-standards",f)}function o(t,r,u,f,e){n(t).each(function(t,o){n(o).click(function(t){var s=n(o).attr("data-pageIndex");i(r,u,{pageIndex:s},f,e);t.preventDefault()})})}function s(t,r,u,f,e){n(t).change(function(){var t=n(this).find(":selected").val();i(r,u,{standardsPerPage:t},f,e);event.preventDefault()})}function h(t,r,u,f,e){n(t).each(function(t,o){n(o).click(function(t){var s=n(o).attr("data-sortColumn"),h=n(o).attr("data-sortDirection");i(r,u,{sortColumn:s,sortDirection:h},f,e);t.preventDefault()})})}function i(i,r,u,f,e){n.ajax({url:"/"+t+"/"+i+"Partial",type:"get",data:u,success:function(t){var o=n(f),u;o.html(t);r!==null&&(u=this.url.replace(i+"Partial",i)+r,history.replaceState(null,null,u));e()},error:function(){window.location="/"+t}})}function l(i,r,u,f,e){n.ajax({url:"/"+t+"/"+i+"Partial",type:"get",data:u,success:function(t){var o=n(f),u;o.html(t);u=this.url.replace(i+"Partial","Search")+r;history.replaceState(null,null,u);e()},error:function(){window.location="/"+t}})}function a(i,r){n.ajax({url:"/"+t+"/ResetFiltersPartial",type:"get",data:null,success:function(t){var u=n(i);u.html(t);r()},error:function(){window.location="/"+t}})}function v(i,r,u){n.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"/"+t+"/ApplyFiltersPartial",data:JSON.stringify(i),success:function(t){var i=n(r);i.html(t);u()},error:function(){window.location="/"+t}})}var t="find-an-assessment-opportunity";c();n("#search").click(function(t){var i=n("#search-term").val();l("Search",window.location.hash,{searchTerm:i},"#standard-filters",e);document.getElementById("main-content").scrollIntoView();t.preventDefault()});n(".js-toggle-filters-button").on("click",function(){var t=n(this).find(".govuk-details__summary-text"),i=t.text();i.indexOf("Show filters")!==-1?t.text("Hide filters"):t.text("Show filters")});n("#apply-filters").click(function(t){var i=[],r=[];n("input:checkbox[name=sectorFilters]:checked").each(function(){i.push(n(this).val())});n("input:checkbox[name=levelFilters]:checked").each(function(){r.push(n(this).val())});let u={SectorFilters:i,LevelFilters:r};v(u,"#standard-filters",e);t.preventDefault()});n("#reset-filters").click(function(n){a("#standard-filters",e);n.preventDefault()})})(jQuery);