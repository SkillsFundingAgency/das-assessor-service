@model SFA.DAS.AssessorService.Api.Types.Models.ContactResponse

@{
    ViewBag.Title = "Remove user";
    Layout = "_DashboardLayout";
}

<a class="govuk-back-link" asp-controller="UserDetails" asp-action="Details" asp-route-contactId="@Model.Id">Back</a>


<main class="govuk-main-wrapper " id="main-content" role="main">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">

            <span class="govuk-caption-xl">Remove user</span>
            <h1 class="govuk-heading-xl">@Model.GivenNames @Model.FamilyName</h1>

            @if (!ViewData.ModelState.IsValid)
            {
                <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
                    <h2 class="govuk-error-summary__title" id="error-summary-title">
                        There is a problem
                    </h2>
                    <div class="govuk-error-summary__body">
                        <ul class="govuk-list govuk-error-summary__list">
                            <li><a href="#cancel">@ViewData.ModelState.GetValueOrDefault("permissions").Errors.First().ErrorMessage</a></li>
                        </ul>
                    </div>
                </div>
            }

            <div class="govuk-warning-text">
                <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                <strong class="govuk-warning-text__text">
                    <span class="govuk-warning-text__assistive">Warning</span>
                    Removing this user will mean they can no longer use the Apprenticeship assessment service.
                </strong>
            </div>

            <p class="govuk-body">Are you sure you want to remove the user?</p>
            
            <form asp-controller="UserDetails" asp-action="RemoveConfirmed" asp-route-contactId="@Model.Id">
                <button type="submit" class="govuk-button govuk-button--warning">Remove user</button>
            </form>

            <p class="govuk-body">
                <a class="govuk-link" id="cancel" asp-controller="UserDetails" asp-action="Details" asp-route-contactId="@Model.Id">
                    Cancel
                </a>
            </p>
        </div>
    </div>
</main>