<script>
    var epaoLearnerDateFormElement = $('.apprentice-learner-date-form');
    var epaoLearnerDateValidationRulesObject = {
        rules: {
            Day: {
                required: true,
                number: true,
                range: [1, 31],
                isValidDate: {
                    depends: function () {
                        var year = $('#Year').val().length
                        return year === 4
                    }
                },
                noFutureDate: true,
                earliestDate: '1/1/2017'
            },
            Month: {
                required: true,
                number: true,
                range: [1, 12]
            },
            Year: {
                required: true,
                number: true,
                minlength: 4,
                maxlength: 4
            }
        },
        messages: {
            Day: {
                required: 'Enter the day',
                number: 'Day must be a number',
                range: 'Enter a valid day',
                isValidDate: 'Enter a valid date',
                noFutureDate: 'An learner date cannot be in the future',
                earliestDate: 'An learner date cannot be before 01 01 2017'
            },
            Month: {
                required: 'Enter the month',
                number: 'Month must be a number',
                range: 'Enter a valid month',
            },
            Year: {
                required: 'Enter the year',
                number: 'Year must be a number',
                minlength: 'Enter a valid year',
                maxlength: 'Enter a valid year',
            }
        }
    };

    GOVUK.epaoValidate(epaoLearnerDateFormElement, epaoLearnerDateValidationRulesObject);

</script>