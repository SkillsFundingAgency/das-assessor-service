@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@model SFA.DAS.AssessorService.Web.ViewModels.Certificate.CertificateRecipientViewModel

@{
    ViewBag.Title = (!ViewData.ModelState.IsValid ? "Error: " : "") + "Confirm address";
    Layout = "_DashboardLayout";
}

@if (Model.BackToCheckPage)
{
    <a class="govuk-back-link" asp-controller="CertificateCheck" asp-action="Check">Back</a>
}
else
{
    <a class="govuk-back-link" asp-controller="CertificateAddress" asp-action="Address">Back</a>
}

<main class="govuk-main-wrapper " id="main-content" role="main">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">

            <form class="js-disable-on-submit" method="post" asp-action="ConfirmAddress" asp-controller="CertificateAddress">
                @Html.HiddenFor(c => c.Id)
                @Html.HiddenFor(c => c.SendTo)
                @Html.HiddenFor(c => c.Name)
                @Html.HiddenFor(c => c.Dept)
                @Html.HiddenFor(c => c.Employer)
                @Html.HiddenFor(c => c.AddressLine1)
                @Html.HiddenFor(c => c.AddressLine2)
                @Html.HiddenFor(c => c.AddressLine3)
                @Html.HiddenFor(c => c.City)
                @Html.HiddenFor(c => c.Postcode)

                <h1 class="govuk-heading-xl">
                    @string.Format(Localizer["Heading"].Value, Model.GivenNames, Model.FamilyName)
                </h1>

                <div class="govuk-inset-text">
                    <ul class="govuk-list">
                        <li hidden="@(!string.IsNullOrEmpty(Model.Name) ? "hidden" : "")">
                            <span>@Model.Name</span>
                        </li>
                        <li hidden="@(!string.IsNullOrEmpty(Model.Dept) ? "hidden" : "")">
                            <span>@Model.Dept</span>
                        </li>
                        <li hidden="@(!string.IsNullOrEmpty(Model.Employer) ? "hidden" : "")">
                            <span>@Model.Employer</span>
                        </li>
                        <li>
                            <span>@Model.AddressLine1</span>
                        </li>
                        <li>
                            <span>@Model.AddressLine2</span>
                        </li>
                        <li>
                            <span>@Model.AddressLine3</span>
                        </li>
                        <li>
                            <span>@Model.City</span>
                        </li>
                        <li>
                            <span>@Model.Postcode</span>
                        </li>
                    </ul>
                </div>

                <p class="govuk-body">
                    <a class="govuk-link" asp-controller="CertificateAddress" asp-action="Address" asp-route-edit="true">@Localizer["EditThisAddress"]</a>
                </p>

                <button type="submit" class="govuk-button">@Localizer["ContinueButton"]</button>
            </form>
        </div>
    </div>
</main>