<script>
  var epaoDateFormElement = $('.apprentice-date-form');
  var epaoDateValidationRulesObject = {
    ignore: ':hidden:not(#fullDate)',
    rules: {
      Day: {
        required: true,
        number: true,
        range: [1, 31]
      },
      Month: {
        required: true,
        number: true,
        range: [1, 12]
      },
      Year: {
        required: true,
        number: true,
        minlength: 4,
        maxlength: 4
      },
      fullDate: {
        noFutureDate: true
      }
    },
    messages: {
      Day: {
        required: 'Enter the achievement day',
        number: 'Day must be a number',
        range: 'Enter a valid day'
      },
      Month: {
        required: 'Enter the achievement month',
        number: 'Month must be a number',
        range: 'Enter a valid month'
      },
      Year: {
        required: 'Enter the achievement year',
        number: 'Year must be a number',
        minlength: 'Enter a valid year',
        maxlength: 'Enter a valid year'
      },
      fullDate: {
        noFutureDate: 'Enter an achievement date in the past'
      }
    }
  };

  GOVUK.epaoValidate(epaoDateFormElement, epaoDateValidationRulesObject);

  $(document).ready(function () {
    // Populate hidden field
    getFullDate();
    $(".date-input").on('keyup input', getFullDate);

    function getFullDate() {
      $("#fullDate").val($('[name="Day"]').val() + "/" + $('[name="Month"]').val() + "/" + $('[name="Year"]').val());
    }
  });

</script>