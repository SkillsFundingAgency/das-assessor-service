GOVUK.epaoValidate=function(n,t){function i(n){var t=n.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(t!==null){var f=+t[1],r=+t[2],u=+t[3],i=new Date(u,r-1,f);if(i.getFullYear()===u&&i.getMonth()===r-1)return i}return!1}function r(){var n=$('[name="Day"]').val(),t=$('[name="Month"]').val(),i=$('[name="Year"]').val();return n+"/"+t+"/"+i}var u=$(document).attr("title"),f=n.bind("invalid-form.validate",function(){$(document).attr("title","Error: "+u);$(".js-error-summary").length?($(".js-error-summary-list").empty(),f.errorList.forEach(function(n){$(".js-error-summary-list").append('<li><a href="#'+n.element.id+'">'+n.message+"<\/a><\/li>")}),$(".js-error-summary").show().focus(),$(".js-error-summary a").click(function(n){n.preventDefault();var t=$(this).attr("href");$(t).is(":visible")?$(t).focus():$("input.form-control:first").focus()})):$("input.form-control:first").focus()}).validate({normalizer:function(n){return $.trim(n)},ignore:t.ignore,focusInvalid:!1,onkeyup:!1,onclick:!1,onfocusout:!1,errorElement:"span",errorClass:"error-message",highlight:function(n){if($(n).hasClass("date-input"))return $(n).addClass("form-control-error"),!1;$(n).addClass("form-control-error").closest(".form-group").addClass("form-group-error")},unhighlight:function(n){if($(n).hasClass("date-input"))return $(n).removeClass("form-control-error"),!1;$(n).removeClass("form-control-error").closest(".form-group").removeClass("form-group-error")},rules:t.rules,groups:t.groups,messages:t.messages,errorPlacement:function(n,t){if(t.attr("type")=="radio")$(".error-message-container").show().append(n);else if(t.hasClass("date-input"))$(".error-message-container").addClass("form-group-error").show().find(".form-date").before(n);else{if(t.hasClass("autocomplete__input"))return!1;n.insertBefore(t)}},submitHandler:function(n){n.submit()}});jQuery.validator.addMethod("isValidDate",function(n,t){var u=r();return u?this.optional(t)||i(u.toString()):!0},"Please enter a valid user date");jQuery.validator.addMethod("noFutureDate",function(n,t){var f=(new Date).getTime(),u=i(r())?i(r()).getTime():!1;return u?this.optional(t)||u<f:!0},"Please enter a date in the past");jQuery.validator.addMethod("earliestDate",function(n,t,u){var f=i(r())?i(r()).getTime():!1,e=i(u).getTime();return f?this.optional(t)||f>=e:!0},"The entered date cannot be before the set date");jQuery.validator.addMethod("addressFound",function(n,t){var i=$(".info-highlighted").is(":visible");return this.optional(t)||i},"Please select an address");jQuery.validator.addMethod("postcodeUK",function(n,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(n)},"Please specify a valid UK postcode");jQuery.validator.addMethod("validGuid",function(n,t){return this.optional(t)||n!=="00000000-0000-0000-0000-000000000000"&&/^([0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12})$/i.test(n)},"Please specify a valid GUID");jQuery.validator.addMethod("equals",function(n,t,i){return this.optional(t)||$.inArray(n,i)>=0})};$(document).ready(function(){$(".js-integers-only").on("keydown",function(n){$.inArray(n.keyCode,[46,8,9,27,13])!==-1||n.keyCode==65&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode==67&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode==86&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode==88&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode>=35&&n.keyCode<=39||(n.shiftKey||n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105)&&n.preventDefault()})});